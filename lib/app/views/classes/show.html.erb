<?xml version="1.0" encoding="<%= charset %>"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title><%= klass.module? ? 'Module:' : 'Class:' %> <%= klass.full_name %></title>
    <meta http-equiv="Content-Type" content="text/html; charset=<%= charset %>" />
    <link rel="stylesheet" href="<%= style_url %>" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
<table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix"><%= klass.module? ? 'Module' : 'Class' %></span><br /><%= klass.full_name %></td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<% klass.in_files.each do |infile| %>
<%= link_to infile.absolute_name, File.join(relative_prefix, infile.path) %>:
<% end %>
        </td>
      </tr>
<% if klass.type == 'class' %>
      <tr>
        <td>Parent:</td>
        <td>

  <% if String === klass.superclass %>
    <%= klass.superclass %>
  <% else %>
    <%= link_to klass.superclass.full_name, klass.aref_to(klass.superclass.path) %>
  <% end %>
       </td>
     </tr>
<% end %>
         </table>
        </td>
        </tr>
      </table>
  <div id="bodyContent">
  <div id="content">
<% if klass.diagram %>
  <table cellpadding='0' cellspacing='0' border='0' width="100%"><tr><td align="center">
    <%= klass.diagram %>
  </td></tr></table>
<% end %>

<% if klass.description %>
  <div class="description"><%= klass.description %></div>
<% end %>

<% unless klass.requires.empty? %>
  <div class="sectiontitle">Required Files</div>
  <ul>
<% klass.requires.each do |require| %>
  <li><%= link_to require.name, require.aref %>:</li>
<% end %>
  </ul>
<% end %>

<% if klass.methods %>
  <div class="sectiontitle">Methods</div>
  <ul>
    <% klass.method_list.sort_by { |x| x.name }.each do |method| %>
      <% next if method.is_alias_for %>
      <li><%= link_to method.name, "##{method.aref}" %></li>
    <% end %>
  </ul>
<% end %>

<% unless klass.includes.empty? %>
<div class="sectiontitle">Included Modules</div>
<ul>
<% klass.each_include do |include| %>
  <li>
    <% if String === include.module %>
      <%= include.module %>
    <% else %>
      <%= link_to include.module.full_name, klass.aref_to(include.module.path) %>
    <% end %>
  </li>
<% end %>
</ul>
<% end %>

<% unless klass.constants.empty? %>
  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
<% klass.each_constant do |constant| %>
  <tr valign='top'>
    <td class="attr-name"><%= constant.name %></td>
    <td>=</td>
    <td class="attr-value"><%= constant.value %></td>
  </tr>
<% if constant.comment %>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc"><%= constant.comment.strip %></td>
  </tr>
<% end %>
<% end %>
  </table>
<% end %>

<% if false %>
<% if section['attributes'] %>
  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
<% section['attributes'].each do |attribute| %>
  <tr valign='top'>
    <td class='attr-rw'>
<% if attribute['rw'] %>
[<%= attribute['rw'] %>]
<% end %>
    </td>
    <td class='attr-name'><%= attribute['name'] %></td>
    <td class='attr-desc'><%= attribute['a_desc'] %></td>
  </tr>
<% end %>
  </table>
<% end %>

<% if section['method_list'] %>
<% section['method_list'].each do |method_list| %>
<% if method_list['methods'] %>
<div class="sectiontitle"><%= method_list['type'] %> <%= method_list['category'] %> methods</div>
<% method_list['methods'].each do |method| %>
<div class="method">
  <div class="title">
<% if method['callseq'] %>
    <a name="<%= method['aref'] %>"></a><b><%= method['callseq'] %></b>
<% end %>
<% unless method['callseq'] %>
    <a name="<%= method['aref'] %>"></a><b><%= method['name'] %></b><%= method['params'] %>
<% end %>
<% if method['codeurl'] %>
[&nbsp;<a href="<%= method['codeurl'] %>" target="SOURCE_CODE" onclick="javascript:openCode('<%= method['codeurl'] %>'); return false;">source</a>&nbsp;]
<% end %>
  </div>
<% if method['m_desc'] %>
  <div class="description">
  <%= method['m_desc'] %>
  </div>
<% end %>
<% if method['aka'] %>
<div class="aka">
  This method is also aliased as
<% method['aka'].each do |aka| %>
  <a href="<%= aka['aref'] %>"><%= aka['name'] %></a>
<% end %>
</div>
<% end %>
<% if method['sourcecode'] %>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('<%= method['aref'] %>_source')" id="l_<%= method['aref'] %>_source">show source</a> ]</p>
  <div id="<%= method['aref'] %>_source" class="dyn-source">
<pre>
<%= method['sourcecode'] %>
</pre>
  </div>
</div>
<% end %>
</div>
<% end %>
<% end %>
<% end %>
<% end %>
<% end %>
</div>
  </div>
  </body>
</html>
